



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.0">
    
    
      
        <title>Web automation - Carina</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.78aab2dc.css">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#implementation-of-page-objects" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Carina" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Carina
              </span>
              <span class="md-header-nav__topic">
                Web automation
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/qaprosoft/carina/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Github
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    Carina
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/qaprosoft/carina/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Github
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../getting_started/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../project_structure/" title="Project structure" class="md-nav__link">
      Project structure
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../execution/" title="Execution" class="md-nav__link">
      Execution
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Automation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Automation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Web automation
      </label>
    
    <a href="./" title="Web automation" class="md-nav__link md-nav__link--active">
      Web automation
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#implementation-of-page-objects" title="Implementation of Page Objects" class="md-nav__link">
    Implementation of Page Objects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-of-ui-components" title="Implementation of UI Components" class="md-nav__link">
    Implementation of UI Components
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-of-tests" title="Implementation of tests" class="md-nav__link">
    Implementation of tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-configuration" title="Test configuration" class="md-nav__link">
    Test configuration
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mobile/" title="Mobile automation" class="md-nav__link">
      Mobile automation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/" title="API automation" class="md-nav__link">
      API automation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../dataproviders/" title="Dataproviders" class="md-nav__link">
      Dataproviders
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../contribution/" title="Contribution" class="md-nav__link">
      Contribution
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../releases/" title="Release notes" class="md-nav__link">
      Release notes
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#implementation-of-page-objects" title="Implementation of Page Objects" class="md-nav__link">
    Implementation of Page Objects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-of-ui-components" title="Implementation of UI Components" class="md-nav__link">
    Implementation of UI Components
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-of-tests" title="Implementation of tests" class="md-nav__link">
    Implementation of tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-configuration" title="Test configuration" class="md-nav__link">
    Test configuration
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/qaprosoft/carina/edit/master/docs/automation/web.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Web automation</h1>
                
                <p><a href="https://youtu.be/Wgyffk7hJQw"><img alt="Carina - Web automation" src="http://img.youtube.com/vi/Wgyffk7hJQw/0.jpg" /></a></p>
<p>Carina framework follows Selenium best practices for web tests automation. If you are familiar with Selenium WebDriver and have already implemented few tests with Page Object pattern the following guide will be pretty much easy for understanding. We have chosen <a href="https://www.gsmarena.com/">GSM Arena</a> public web site for demonstration purposes, all the test source code is located in <a href="https://github.com/qaprosoft/carina-demo">carina-demo</a> Github repo.</p>
<h3 id="implementation-of-page-objects">Implementation of Page Objects</h3>
<p>When you are writing functional tests using Selenium a major part of your code will consist of interactions with the web interface you are testing through the WebDriver API. After fetching elements you will verify some state of the element through various assertions and move on to fetching the next element. You may find WebElements directly in your tests:</p>
<pre><code>List&lt;WebElement&gt; zipCodes = driver.findElements(By.id(&quot;zipCodes&quot;));
for (WebElement zipCode : zipCodes) {
    if (zipCode.getText().equals(&quot;12345&quot;)){
        zipCode.click();
        break;
    }
}
WebElement city = driver.findElement(By.id(&quot;city&quot;));
assertEquals(&quot;MyCityName&quot;, city.getText());
</code></pre>

<p>So some of the typical problems for this type of Selenium test are:</p>
<ul>
<li>Test cases are difficult to read</li>
<li>Changes in the UI breaks multiple tests often in several places</li>
<li>Duplication of selectors both inside and across tests - no reuse</li>
</ul>
<p>So instead of having each test fetch elements directly and being fragile towards UI changes, the Page Object Pattern introduces what is basically a decoupling layer. </p>
<p>You create an object that represents the UI you want to test, which could be a whole page or a significant part of it. The responsibility of this object is to wrap HTML elements and encapsulate interactions with the UI, meaning that this is where all calls to WebDriver will go. This is where most WebElements are. And this is the only place you need to modify when the UI changes.</p>
<p><img alt="Page Object Pattern" src="../../img/page-objects.png" /></p>
<p>In general Page Object contains locators of the elements located on the page and some business logic that may be reused by different tests:</p>
<pre><code>public class ModelInfoPage extends AbstractPage {
    @FindBy(css = &quot;.help-display strong&quot;)
    private ExtendedWebElement displayInfoLabel;

    @FindBy(css = &quot;.help-camera strong&quot;)
    private ExtendedWebElement cameraInfoLabel;

    @FindBy(css = &quot;.help-expansion strong&quot;)
    private ExtendedWebElement displayRamLabel;

    @FindBy(css = &quot;.help-battery strong&quot;)
    private ExtendedWebElement batteryInfoLabel;

    public ModelInfoPage(WebDriver driver) {
        super(driver);
    }

    public String readDisplay() {
        assertElementPresent(displayInfoLabel);
        return displayInfoLabel.getText();
    }

    public String readCamera() {
        assertElementPresent(cameraInfoLabel);
        return cameraInfoLabel.getText();
    }

    public String readRam() {
        assertElementPresent(displayRamLabel);
        return displayRamLabel.getText();
    }

    public String readBattery() {
        assertElementPresent(displayInfoLabel);
        return batteryInfoLabel.getText();
    }
}

</code></pre>

<p><strong>Important:</strong></p>
<ul>
<li>Page should extend <strong>com.qaprosoft.carina.core.gui.AbstractPage</strong></li>
<li>Use <strong>com.qaprosoft.carina.core.foundation.webdriver.decorator.ExtendedWebElement</strong> instead of Selenium WebElement</li>
<li>Locate Page Object classes in src/main/java</li>
</ul>
<h3 id="implementation-of-ui-components">Implementation of UI Components</h3>
<p>In some cases it is useful to implement UI Objects that may be reused between multiple Page Objects, for top menu or footer instance may be shared between multiple pages:</p>
<pre><code>public class FooterMenu extends AbstractUIObject {
    @FindBy(linkText = &quot;Home&quot;)
    private ExtendedWebElement homeLink;

    @FindBy(linkText = &quot;Compare&quot;)
    private ExtendedWebElement compareLink;

    public FooterMenu(WebDriver driver, SearchContext searchContext) {
        super(driver, searchContext);
    }

    public HomePage openHomePage() {
        homeLink.click();
        return new HomePage(driver);
    }

    public CompareModelsPage openComparePage() {
        compareLink.click();
        return new CompareModelsPage(driver);
    }
}
</code></pre>

<p>And then you can use that in Page Object:</p>
<pre><code>public class HomePage extends AbstractPage {
    @FindBy(id = &quot;footmenu&quot;)
    private FooterMenu footerMenu;

    @FindBy(xpath = &quot;//div[contains(@class, 'brandmenu-v2')]//a&quot;)
    private List&lt;ExtendedWebElement&gt; brandLinks;

    public HomePage(WebDriver driver) {
        super(driver);
    }

    public FooterMenu getFooterMenu() {
        return footerMenu;
    }

    public BrandModelsPage selectBrand(String brand) {
        LOGGER.info(&quot;selecting '&quot; + brand + &quot;' brand...&quot;);
        for (ExtendedWebElement brandLink : brandLinks) {
            String currentBrand = brandLink.getText();
            LOGGER.info(&quot;currentBrand: &quot; + currentBrand);
            if (brand.equalsIgnoreCase(currentBrand)) {
                brandLink.click();
                return new BrandModelsPage(driver);
            }
        }
        throw new RuntimeException(&quot;Unable to open brand: &quot; + brand);
    }
}
</code></pre>

<p><strong>Important:</strong></p>
<ul>
<li>UI Object should extend <strong>com.qaprosoft.carina.core.gui.AbstractUIObject</strong></li>
<li>You should call super constructor <strong>super(driver, searchContext)</strong> where searchContext is an instance of <strong>org.openqa.selenium.SearchContext</strong></li>
<li>Locate UI Object classes in src/main/java source folder</li>
</ul>
<h3 id="implementation-of-tests">Implementation of tests</h3>
<p>Carina framework uses TestNG for test organization. In general, test represents manipulation with Page Objects and additional validations of UI events. Here is sample test implementation:</p>
<pre><code>public class WebSampleTest extends AbstractTest {
    @Test(description = &quot;JIRA#AUTO-0009&quot;)
    @MethodOwner(owner = &quot;qpsdemo&quot;)
    public void testCompareModels() {
        // Open GSM Arena home page and verify page is opened
        HomePage homePage = new HomePage(getDriver());
        homePage.open();
        Assert.assertTrue(homePage.isPageOpened(), &quot;Home page is not opened&quot;);
        // Open model compare page
        FooterMenu footerMenu = homePage.getFooterMenu();
        Assert.assertTrue(footerMenu.isUIObjectPresent(2), &quot;Footer menu wasn't found!&quot;);
        CompareModelsPage comparePage = footerMenu.openComparePage();
        // Compare 3 models
        List&lt;ModelSpecs&gt; specs = comparePage.compareModels(&quot;Samsung Galaxy J3&quot;, &quot;Samsung Galaxy J5&quot;, &quot;Samsung Galaxy J7 Pro&quot;);
        // Verify model announced dates
        Assert.assertEquals(specs.get(0).readSpec(SpecType.ANNOUNCED), &quot;2015, November&quot;);
        Assert.assertEquals(specs.get(1).readSpec(SpecType.ANNOUNCED), &quot;2016, September&quot;);
        Assert.assertEquals(specs.get(2).readSpec(SpecType.ANNOUNCED), &quot;2017, June&quot;);
    }
}

</code></pre>

<p>It is good practice to implement all elements search logic of Page Object/UI Object side and perform assertions and validations in the test, do not mix that logic.</p>
<p><strong>Important:</strong></p>
<ul>
<li>Test class should extend <strong>com.qaprosoft.carina.core.foundation.AbstractTest</strong></li>
<li>Test method should start with <strong>org.testng.annotations.Test</strong> annotation</li>
<li>Use <strong>getDriver()</strong> method to get driver instance in test</li>
<li>Locate tests in src/test/java source folder</li>
</ul>
<h3 id="test-configuration">Test configuration</h3>
<p>There are few critical properties in config.properties file which are required for web tests execution:</p>
<ul>
<li>url=http://www.gsmarena.com</li>
<li>platform=*</li>
<li>browser=chrome</li>
<li>browser_version=*</li>
</ul>
<p>Implemented tests cases should be placed in TestNG xml file according to test group the test belongs to. More details about TestNG configuration you may find in the <a href="http://testng.org/doc/documentation-main.html">official documentation</a>.</p>
<pre><code>&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;

&lt;suite verbose=&quot;1&quot; name=&quot;Carina Demo Tests - Web tests&quot; skipfailedinvocationcounts=&quot;false&quot; junit=&quot;false&quot; parallel=&quot;tests&quot; data-provider-thread-count=&quot;50&quot; annotations=&quot;JDK&quot;&gt;

    &lt;listeners&gt;
        &lt;listener class-name=&quot;com.qaprosoft.carina.core.foundation.retry.AnnotationTransformer&quot;/&gt;
        &lt;listener class-name=&quot;com.qaprosoft.zafira.listener.ZafiraListener&quot;/&gt;
    &lt;/listeners&gt;

    &lt;test name=&quot;GSM arena web tests&quot;&gt;
        &lt;classes&gt;
            &lt;class name=&quot;com.qaprosoft.carina.demo.WebSampleTest&quot; /&gt;
        &lt;/classes&gt;
    &lt;/test&gt;

&lt;/suite&gt;
</code></pre>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../execution/" title="Execution" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Execution
              </span>
            </div>
          </a>
        
        
          <a href="../mobile/" title="Mobile automation" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Mobile automation
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.8eb9be28.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>