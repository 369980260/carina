



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.4">
    
    
      
        <title>Mobile automation - Carina</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../../#mobile-special-requirements" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Carina" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Carina
              </span>
              <span class="md-header-nav__topic">
                Mobile automation
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/qaprosoft/carina/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Github
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Carina" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Carina
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/qaprosoft/carina/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Github
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../getting_started/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../project_structure/" title="Project structure" class="md-nav__link">
      Project structure
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../execution/" title="Execution" class="md-nav__link">
      Execution
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Automation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Automation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../web/" title="Web automation" class="md-nav__link">
      Web automation
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Mobile automation
      </label>
    
    <a href="./" title="Mobile automation" class="md-nav__link md-nav__link--active">
      Mobile automation
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mobile-special-requirements" title="Mobile special requirements:" class="md-nav__link">
    Mobile special requirements:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#android-special-requirements" title="Android special requirements:" class="md-nav__link">
    Android special requirements:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ios-special-requirements" title="iOS special requirements:" class="md-nav__link">
    iOS special requirements:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mobile-config-properties" title="Mobile config properties" class="md-nav__link">
    Mobile config properties
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-for-android-of-_configproperties" title="Example for Android of _config.properties:" class="md-nav__link">
    Example for Android of _config.properties:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-for-ios-of-_configproperties" title="Example for iOS of _config.properties:" class="md-nav__link">
    Example for iOS of _config.properties:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-of-page-objects" title="Implementation of Page Objects:" class="md-nav__link">
    Implementation of Page Objects:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-find-locators-for-android-application" title="How to find locators for Android application" class="md-nav__link">
    How to find locators for Android application
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-find-locators-for-ios-application" title="How to find locators for iOS application" class="md-nav__link">
    How to find locators for iOS application
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-of-tests" title="Implementation of tests" class="md-nav__link">
    Implementation of tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-customtypepagefactory" title="How to use CustomTypePageFactory" class="md-nav__link">
    How to use CustomTypePageFactory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-find-by-image-strategy" title="How to use Find by image strategy" class="md-nav__link">
    How to use Find by image strategy
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/" title="API automation" class="md-nav__link">
      API automation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../dataproviders/" title="Dataproviders" class="md-nav__link">
      Dataproviders
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../databases/" title="Database usage" class="md-nav__link">
      Database usage
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../contribution/" title="Contribution" class="md-nav__link">
      Contribution
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../proxy/" title="Proxy" class="md-nav__link">
      Proxy
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../migration/" title="Migration Steps" class="md-nav__link">
      Migration Steps
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../releases/" title="Release Notes" class="md-nav__link">
      Release Notes
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mobile-special-requirements" title="Mobile special requirements:" class="md-nav__link">
    Mobile special requirements:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#android-special-requirements" title="Android special requirements:" class="md-nav__link">
    Android special requirements:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ios-special-requirements" title="iOS special requirements:" class="md-nav__link">
    iOS special requirements:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mobile-config-properties" title="Mobile config properties" class="md-nav__link">
    Mobile config properties
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-for-android-of-_configproperties" title="Example for Android of _config.properties:" class="md-nav__link">
    Example for Android of _config.properties:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-for-ios-of-_configproperties" title="Example for iOS of _config.properties:" class="md-nav__link">
    Example for iOS of _config.properties:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-of-page-objects" title="Implementation of Page Objects:" class="md-nav__link">
    Implementation of Page Objects:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-find-locators-for-android-application" title="How to find locators for Android application" class="md-nav__link">
    How to find locators for Android application
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-find-locators-for-ios-application" title="How to find locators for iOS application" class="md-nav__link">
    How to find locators for iOS application
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-of-tests" title="Implementation of tests" class="md-nav__link">
    Implementation of tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-customtypepagefactory" title="How to use CustomTypePageFactory" class="md-nav__link">
    How to use CustomTypePageFactory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-find-by-image-strategy" title="How to use Find by image strategy" class="md-nav__link">
    How to use Find by image strategy
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/qaprosoft/carina/edit/master/docs/automation/mobile.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Mobile automation</h1>
                
                <p>Carina framework provides a useful and elegant way of Mobile (Android and iOS) Test Automation. The best practices have a lot in common with web automation, so it’s highly recommended to look through <a href="http://qaprosoft.github.io/carina/automation/web/">Web automation article</a>.</p>
<h3 id="mobile-special-requirements">Mobile special requirements:</h3>
<p>To run mobile tests, <a href="http://appium.io/">Appium</a> is used instead of Selenium. There are 2 versions of Appium: desktop and console ones, and both are good for Carina. <b>Appium must be running every time before the test run.</b></p>
<p><img alt="Alt text" src="../../img/appium_design.png" title="Appium" /></p>
<h3 id="android-special-requirements">Android special requirements:</h3>
<ol>
<li>Android SDK (part of <a href="https://developer.android.com/studio/">Android Studio</a>) is an important component for work. Pay attention that after installing Android Studio you sometimes (depends on the version) need to additionally install ADB and aapt (for Mac only). </li>
<li>Edit your PATH variable and add ANDROID_HOME (path to “sdk” folder) to PATH. 
Hint: you sometimes (especially on Mac) need to add paths to important folders inside sdk, such as “platform-tools” (ADB is located here), “tools” and “build-tools” (aapt is located here).</li>
<li>.apk file - installation file of a program that’s being tested is required, the same for both - the real device and the emulator.</li>
</ol>
<h3 id="ios-special-requirements">iOS special requirements:</h3>
<ol>
<li><a href="https://developer.apple.com/xcode/">Xcode</a> is a vital component for work, but unfortunately, it’s Mac-used only. It’s impossible to do iOS automation on Windows.</li>
<li>Installation file of a program that’s being tested is required. For the real device it’s .ipa file, and for the simulator it’s .app file. .app file should be provided by developers and has special signatures to work correctly, but automation on the simulator is free. On the other hand, the license is needed to work with the real device.</li>
</ol>
<h3 id="mobile-config-properties">Mobile config properties</h3>
<p>We could provide any Appium capability in the <strong>config.properties</strong> file using capabilities.name=value format. In the table below we are providing the description of the most popular mobile capabilities:</p>
<table>
    <tr>
        <th>Attribute</th>
        <th>Meaning</th>
                <th>Default value</th>
        <th>Example</th>
    </tr>
        <tr>
        <td>capabilities.deviceName</td>
        <td>Device name for report</td>
                <td>n/a</td>
        <td>Sumsung_Galaxy_J5</td>
    </tr>
        <tr>
        <td>capabilities.deviceType</td>
        <td>The only custom Carina capability to determine the type of the device</td>
                <td>n/a</td>
        <td>phone/tablet/tv...</td>
    </tr>
        <tr>
        <td>capabilities.platformName</td>
        <td>Name of the mobile platform</td>
                <td>n/a</td>
        <td>Android/iOS/AndroidTV/tvOS</td>
    </tr>
        <tr>
        <td>capabilities.platformVersion</td>
        <td>Version of the mobile platform</td>
                <td>n/a</td>
        <td>6.0.1</td>
    </tr>
        <tr>
        <td>capabilities.automationName</td>
        <td>Name of the program used for automation (for Android 7+ use uiautomator2 instead of Appium)</td>
                <td>n/a</td>
        <td>Appium/uiautomator2/XCUITest</td>
    </tr>
        <tr>
        <td>capabilities.app</td>
        <td>Path to the application (apk/app/ipa) which is tested, can be provided as a pattern from AWS S3 storage with automatic downloading</td>
                <td>n/a</td>
        <td>D:/application.apk, s3://qaprosoft.com/android/myapk.*-release.apk</td>
    </tr>
        <tr>
        <td>capabilities.newCommandTimeout</td>
        <td>New implicit timeout is seconds to wait for the element for mobile automation</td>
                <td>n/a</td>
        <td>180</td>
    </tr>
        <tr>
        <td>capabilities.udid</td>
        <td>Unique Device ID</td>
                <td>n/a</td>
        <td>759b543c</td>
    </tr>
        <tr>
        <td>capabilities.device</td>
        <td>Specifies a particular mobile device for the test environment on Browserstack</td>
                <td>n/a</td>
        <td>Galaxy Note 8, iPhone X</td>
    </tr>
     <tr>
        <td>capabilities.os_version</td>
        <td>Version of OS for Browserstack</td>
                <td>n/a</td>
        <td>ios, android</td>
    </tr>
    <tr>
        <td>capabilities.remoteURL</td>
        <td>Remote URL for using Selenium Grid</td>
                <td>n/a</td>
        <td> 'http://localhost:4444/wd/hub'</td>
    </tr>
        <tr>
        <td>capabilities.appActivity</td>
        <td>Activity name for the Android activity you want to launch from your package.</td>
                <td>n/a</td>
        <td>com.amazon.mShop.HomeActivity</td>
    </tr>
        <tr>
        <td>capabilities.appPackage</td>
        <td>Java package of the Android app you want to run</td>
                <td>n/a</td>
        <td>in.amazon.mShop.android.shopping</td>
    </tr>
    <tr>
        <td>capabilities.noSign</td>
        <td>Skips checking and signing of the app with debug keys, will work only with UiAutomator and not with selendroid, defaults to false</td>
                <td>n/a</td>
        <td>true, false</td>
    </tr>
    <tr>
        <td>capabilities.autoGrantPermissions</td>
        <td>Has Appium automatically determine which permissions your app requires and grants them to the app on install. Defaults to false</td>
                <td>n/a</td>
        <td>true, false</td>
    </tr>
    <tr>
        <td>capabilities.skipUnlock</td>
        <td>Skips the device unlock process. Defaults to false</td>
                <td>n/a</td>
        <td>true, false</td>
    </tr>
</table>

<p><b>Important:</b>
<em> though it’s not necessary to run Selenium, seleniumum_host must be defined.
</em> The file _config.properties should be located in src/main/resources</p>
<h3 id="example-for-android-of-_configproperties">Example for Android of _config.properties:</h3>
<pre><code>#=====================================================#
#================= Configuration v2 ==================#
#=====================================================#

selenium_host=http://localhost:4723/wd/hub
extra_selenium_driver_host=http://localhost:4444/wd/hub

#============ Android Local Mobile ===================#

##for Android 7+ use uiautomator2 instead of Appium
capabilities.automationName=uiautomator2
capabilities.appPackage=
capabilities.deviceName=Nexus_6
capabilities.udid=emulator-5554
capabilities.noSign=true
capabilities.deviceType=phone
capabilities.app=/Users/{user}/qaprosoft/mmf/test-app.apk
capabilities.platformName=ANDROID
capabilities.autoGrantPermissions=true
#=====================================================#
</code></pre>

<p><b>Note:</b>
To get the device’s unique id (UDID), the command “adb devices” is used. This command provides a list of devices attached with their UDIDs. For the real device it will look like “759b543c” (can be shorter or longer), and for the emulator it will be like “emulator-5554”.</p>
<h3 id="example-for-ios-of-_configproperties">Example for iOS of _config.properties:</h3>
<pre><code>#=====================================================#
#================= Configuration v2 ==================#
#=====================================================#

selenium_host=http://localhost:4723/wd/hub
extra_selenium_driver_host=http://localhost:4444/wd/hub

#======== Local Run for iOS Mobile ===============#
capabilities.app=/Users/{user}/qaprosoft/mmf/TestApp-iphonesimulator.app
capabilities.platformName=iOS
capabilities.deviceName=iPhone X
capabilities.platform=iOS
capabilities.deviceType=phone
capabilities.platformVersion=11.4
capabilities.automationName=XCUITest
capabilities.udid=D85FF1CD-D95F-4B78-A007-77A11EBD3ABB
capabilities.newCommandTimeout=1800
#=====================================================#
</code></pre>

<p><b>Note:</b>
To get the device’s unique id (UDID) for the emulator, the command “xcrun simctl list” is used. It will show the list of simulators with their names, iOS versions, udids and statuses (shutdown or booted). 
To get UDID from the real device, you need to plug your phone into a computer and copy it out of iTunes:
1. Launch iTunes and connect your iPhone.
2. In the right panel, locate the information about your iPhone, including its name, capacity, software version, serial number, and phone number.
3. Reveal the Identifier by clicking on the Serial Number.</p>
<h3 id="implementation-of-page-objects">Implementation of Page Objects:</h3>
<p>The main idea is the same as in <a href="http://qaprosoft.github.io/carina/automation/web/#implementation-of-page-objects">web-testing</a> except that CSS isn’t used in Mobile. 
ExtendedWebElement (Carina’s implementation of WebElement) is used instead of WebElement, and it has methods similar to those that WebElement has, but more reliable and convenient ones.
<b>Important</b>:
 * Page should extend com.qaprosoft.carina.core.gui.AbstractPage
 * Use com.qaprosoft.carina.core.foundation.webdriver.decorator.ExtendedWebElement instead of Selenium WebElement
 * Locate Page Object classes in src/main/java package</p>
<h3 id="how-to-find-locators-for-android-application">How to find locators for Android application</h3>
<p>To obtain the locators of web elements from an Android app, different programs are used, such as the latest Appium itself and a convenient Android SDK tool: uiautomatorviewer. It’s located in $ANDROID_HOME/tools/bin and can be launched using the command line  (./uiautomatorviewer).
Example:</p>
<pre><code> @FindBy(xpath = &quot;//*[@resource-id='name_input']&quot;)
 private ExtendedWebElement input;
</code></pre>

<h3 id="how-to-find-locators-for-ios-application">How to find locators for iOS application</h3>
<p>To obtain the locators of web elements from an iOS app, different programs are used, such as GUI Appium itself and a convenient <a href="https://macacajs.github.io/app-inspector/">Macaca App Inspector</a>.
To speed up the work, @Predicate is used. Complicate “xpaths” can’t be used with predicates, but “id”, “name”, “className” and etc. search is sufficient. 
Example:</p>
<pre><code>@FindBy(xpath = &quot;name = 'DONE'&quot;)
@Predicate
protected ExtendedWebElement doneButton;
</code></pre>

<p>Another possibility to find the element is to use @ClassChain annotation.
Example:</p>
<pre><code>@FindBy(xpath = &quot;**/XCUIElementTypeStaticText[`name=='Developer'`]&quot;)
@ClassChain
protected ExtendedWebElement developerText;
</code></pre>

<p>Starting from Carina version 6.0.12, it's recommended to use @ExtendedFindBy() annotation.
Example:</p>
<pre><code>@ExtendedFindBy(iosClassChain = &quot;**/XCUIElementTypeStaticText[`name=='Developer'`]&quot;)
protected ExtendedWebElement developerText;
</code></pre>

<p>or </p>
<pre><code>@ExtendedFindBy(iosPredicate = &quot;name = 'DONE'&quot;)
protected ExtendedWebElement developerText;
</code></pre>

<h3 id="implementation-of-tests">Implementation of tests</h3>
<p>Carina framework uses TestNG for test organization. In general, test represents a manipulation with Page Objects and additional validations of UI events. Here is a sample test implementation:</p>
<pre><code>public class SampleTest extends AbstractTest {

    String name = &quot;My name&quot;;
    String carName = &quot;Mercedes&quot;;

    @Test()
    public void sendName() {
        FirstPage  firstPage = new FirstPage(getDriver());
        GoogleTestPage googleTestPage = new GoogleTestPage(getDriver());
        MyWayOfHelloPage myWayOfHelloPage = new MyWayOfHelloPage(getDriver());
                firstPage.clickOnGooleButton();
                googleTestPage.setName(name);
                googleTestPage.clickOnSpinner();
                googleTestPage.selectCar(carName);
                googleTestPage.clickOnSendYourNameButton();
                Assert.assertTrue(myWayOfHelloPage.isTextElementPresent(name), “Assert message” );
                Assert.assertTrue(myWayOfHelloPage.isTextElementPresent(carName.toLowerCase()), “Assert message” );

    }

}
</code></pre>

<p><b>Important:</b>
<em> Test class should extend com.qaprosoft.carina.core.foundation.AbstractTest
</em> Test method should start with org.testng.annotations.Test annotation
<em> Use getDriver() method to get driver instance in test
</em> Locate tests in src/test/java source folder</p>
<h3 id="how-to-use-customtypepagefactory">How to use CustomTypePageFactory</h3>
<p>Carina provides the technique to combine Desktop/iOS/Android tests into the single test class/method. For all platforms you should use <a href="https://www.seleniumhq.org/docs/06_test_design_considerations.jsp#page-object-design-pattern">Page Object Design Pattern</a>, but in a bit improved way.
Every page has an abstract declaration and different implementations if needed (by default, 3 ones should be enough: Desktop, iOS/Android):</p>
<ul>
<li>Common abstract page in a common package with common methods and elements;</li>
<li>Desktop page in a desktop package with desktop methods and elements;</li>
<li>iOS page in ios package with iOS methods and elements;</li>
<li>Android page in android package with Android methods and elements.</li>
</ul>
<p>Child pages should extend BasePage implementing all abstract methods. Annotation @DeviceType will provide the information about the device type and the parent (common) page.</p>
<p><strong>Examples:</strong></p>
<p><strong>Common (Base) Page</strong></p>
<pre><code>public abstract class HomePageBase extends AbstractPage {

    public HomePageBase(WebDriver driver) {
        super(driver);
    }

    public abstract PhoneFinderPageBase openPhoneFinder();

    public abstract ComparePageBase openComparePage();
}
</code></pre>

<p><strong>Android Page</strong></p>
<pre><code>@DeviceType(pageType = DeviceType.Type.ANDROID_PHONE, parentClass = HomePageBase.class)
public class HomePage extends HomePageBase {

    @FindBy(xpath = &quot;//android.widget.TextView[@resource-id='itemTitle' and @text='Phone Finder']&quot;)
    protected ExtendedWebElement phoneFinderTextView;

    @FindBy(xpath = &quot;//android.widget.TextView[@resource-id='itemTitle' and @text='compare']&quot;)
    protected ExtendedWebElement compareTextView;

    public HomePage(WebDriver driver) {
        super(driver);
    }

    @Override
    public PhoneFinderPageBase openPhoneFinder() {
        phoneFinderTextView.click();
        return CustomTypePageFactory.initPage(getDriver(), PhoneFinderPageBase.class);
    }

    @Override
    public ComparePageBase openComparePage() {
        compareTextView.click();
        return CustomTypePageFactory.initPage(getDriver(), ComparePageBase.class);
    }
</code></pre>

<p><strong>iOS Page</strong></p>
<pre><code>@DeviceType(pageType = Type.IOS_PHONE, parentClass = HomePageBase.class)
public class HomePage extends HomePageBase {

    @FindBy(xpath = &quot;name = 'Phone Finder'&quot;)
    @Predicate
    private ExtendedWebElement phoneFinderTextView;

    @FindBy(xpath = &quot;name = 'Compare'&quot;)
    @Predicate
    private ExtendedWebElement compareTextView;

    public HomePage(WebDriver driver) {
        super(driver);
    }

    @Override
    public PhoneFinderPageBase openPhoneFinder() {
        phoneFinderTextView.click();
        return CustomTypePageFactory.initPage(getDriver(), PhoneFinderPageBase.class);
    }

    @Override
    public ComparePageBase openComparePage() {
        compareTextView.click();
        return CustomTypePageFactory.initPage(getDriver(), ComparePageBase.class);
    }
</code></pre>

<p>Inside of every test Carina operates with an abstract base page using CustomTypePageFactory and substitutes it by the real implementation based on the desired capabilities in _config.properties etc.</p>
<p><strong>Example:</strong></p>
<pre><code>@Test
    public void comparePhonesTest() {
        HomePageBase homePage = CustomTypePageFactory.initPage(getDriver(), HomePageBase.class);
        ComparePageBase phoneFinderPage = homePage.openCompare();
        ...
    }
</code></pre>

<p>If there are differences in application according to OS version, just implement the pages for different versions and include the version parameter in @DeviceTypeae for every page.</p>
<p><strong>Example:</strong></p>
<p>For Android 8 (either 8.0 or 8.1)</p>
<pre><code>@DeviceType(pageType = DeviceType.Type.ANDROID_PHONE, version = “8”, parentClass = HomePageBase.class)
public class HomePage extends HomePageBase {
</code></pre>

<p>Or for the specific version</p>
<pre><code>@DeviceType(pageType = DeviceType.Type.ANDROID_PHONE, version = “8.1”, parentClass = HomePageBase.class)
public class HomePage extends HomePageBase {
</code></pre>

<h3 id="how-to-use-find-by-image-strategy">How to use Find by image strategy</h3>
<p>Find by image strategy is based on <a href="https://github.com/appium/appium/blob/master/docs/en/writing-running-appium/image-comparison.md">appium implementation</a>. Be sure you have openCV libraries installed to <a href="https://github.com/justadudewhohacks/opencv4nodejs">your system</a>.
Find by image logic is covered by <code>@ExtendedFindBy</code> annotation. </p>
<p><strong>Example:</strong></p>
<pre><code>@ExtendedFindBy(image = &quot;images/singUp6.png&quot;)
private ExtendedWebElement signUpBtn;
</code></pre>

<p>The list of actions with image elements and related driver settings is available <a href="http://appium.io/docs/en/advanced-concepts/image-elements/">here</a>.</p>
<p>Basically, all you need is to create an image template of the element in .png format and place it to your project. We suggest using <code>src/main/resources/</code> folder to store images. 
Be sure your image size is less than the real screen size. The real iOS screen sizes are listed <a href="https://developer.apple.com/library/archive/documentation/DeviceInformation/Reference/iOSDeviceCompatibility/Displays/Displays.html">here</a> in 'UIKit Size (Points)' column. You can find the ultimate guide to iPhone resolutions <a href="https://www.paintcodeapp.com/news/ultimate-guide-to-iphone-resolutions">here</a>.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../web/" title="Web automation" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Web automation
              </span>
            </div>
          </a>
        
        
          <a href="../api/" title="API automation" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                API automation
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.583bbe55.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>